<MudNavMenu>
    <MudNavLink Href="/" Icon="@Icons.Material.Filled.Home" IconColor="Color.Primary">
        Home
    </MudNavLink>
    <MudNavLink Href="/relatorios/categorias" Icon="@Icons.Material.Filled.BarChart" IconColor="Color.Primary">
        Relatórios
    </MudNavLink>
    <MudNavLink Href="/categorias" Icon="@Icons.Material.Filled.Folder" IconColor="Color.Primary">
        Categorias
    </MudNavLink>
    <MudNavLink Href="/transacoes" Icon="@Icons.Material.Filled.AttachMoney" IconColor="Color.Primary">
        Transações
    </MudNavLink>
    <MudDivider Class="my-2" />
    <MudNavLink Icon="@Icons.Material.Filled.Logout" IconColor="Color.Secondary" OnClick="Logout">
        Logout
    </MudNavLink>
</MudNavMenu>

@code {
    [Inject]
    private HttpClient Http { get; set; } = default!;

    [Inject]
    private NavigationManager NavigationManager { get; set; } = default!;

    [Inject]
    private MudBlazor.ISnackbar Snackbar { get; set; } = default!;

    private async Task Logout()
    {
        try
        {
            var res = await Http.PostAsync("api/Usuario/logout", null);
            if (res.IsSuccessStatusCode)
            {
                Snackbar.Add("Logout realizado.", Severity.Success);
                NavigationManager.NavigateTo("/login");
            }
            else
            {
                Snackbar.Add("Erro ao efetuar logout.", Severity.Error);
            }
        }
        catch (Exception ex)
        {
            Snackbar.Add($"Erro ao efetuar logout: {ex.Message}", Severity.Error);
        }
    }
}

   